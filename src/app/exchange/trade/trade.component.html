<nb-card class="trade">
  <nb-card-header>{{"common.trade" | translate}}</nb-card-header>
  <nb-card-body>
      <div class="available-items">
    <ul id="main-navigation-trade" class="nav navbar-pill tradeLine tabs text-center">
      <li class="pointer active tab-link" data-tab="tab-1"> 
        <a data-toggle="pill">{{"pages.exchange.buy" | translate | uppercase}} {{tradeByu.from | uppercase}}</a>
      </li>
      <li class="pointer tab-link" data-tab="tab-2">
        <a data-toggle="pill">{{"pages.exchange.sell" | translate | uppercase}} {{tradeByu.from | uppercase}}</a>
      </li>
    </ul>    

    <div id="tab-1" class="tab-content active">
      <form (ngSubmit)="submitTradeBuy()">
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"pages.exchange.price" | translate}}</label>
            <label class="label-right">$ 5.1</label>
            <input type="number" class="form-control" name="price" [(ngModel)]="tradeByu.price">
            <span class="form-control-feedback">{{tradeByu.to | uppercase}}</span>
          </div>
        </div>
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"common.amount" | translate}}</label>
            <label class="label-max">{{"pages.exchange.max" | translate | uppercase}}</label>
            <input type="number" class="form-control" name="amount" [(ngModel)]="tradeByu.amount">
            <span class="form-control-feedback">{{tradeByu.from | uppercase}}</span>
          </div>
        </div>
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"common.total" | translate}}</label>
            <label class="label-right">$ 5.1</label>
            <input type="text" class="form-control" name="btc" 
              [value]="tradeByu.price * tradeByu.amount" disabled>
            <span class="form-control-feedback">{{tradeByu.to | uppercase}}</span>
          </div>
        </div>
        <span>
          <a class="pointer green-text withdraw-text" (click)="openDialog(WithdrawModel)">{{"pages.exchange.withdraw" | translate}}</a>
          <a class="pointer green-text deposit-text" (click)="openDialog(depositModel)">{{"pages.exchange.depositNow" | translate}}</a>
        </span>
        <div class="text-center">
          <button type="submit" class="font-bebasNeueBold btn btn-run btn-demo btn-success pointer" size="large" [disabled]="formSubmittingBuy">
            <span *ngIf="!formSubmittingBuy">{{"pages.exchange.placeBuyOrder" | translate}}</span>
            <i class="fa fa-spinner fa-spin text-white" *ngIf="formSubmittingBuy"></i>
          </button>
        </div>
      </form>
    </div>

    <div id="tab-2" class="tab-content" >
      <form (ngSubmit)="submitTradeSell()">
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"pages.exchange.price" | translate}}</label>
            <label class="label-right">$ 5.1</label>
            <input type="number" class="form-control" name="price" [(ngModel)]="tradeSell.price">
            <span class="form-control-feedback">{{tradeSell.to | uppercase}}</span>
          </div>
        </div>
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"common.amount" | translate}}</label>
            <label class="label-max">{{"pages.exchange.max" | translate | uppercase}}</label>
            <input type="number" class="form-control" name="amount" [(ngModel)]="tradeSell.amount">
            <span class="form-control-feedback">{{tradeSell.from | uppercase}}</span>
          </div>
        </div>
        <div class="form-group">
          <div class="form-group has-feedback">
            <label class="text-success">{{"common.total" | translate}}</label>
            <label class="label-right">$ 5.1</label>
            <input type="text" class="form-control" name="total" 
              [value]="tradeSell.price * tradeSell.amount" disabled>
            <span class="form-control-feedback">{{tradeSell.to | uppercase}}</span>
          </div>
        </div>
        <span>
          <a class="pointer green-text withdraw-text" (click)="openDialog(WithdrawModel)">
              {{"pages.exchange.withdraw" | translate}}
          </a>
          <a class="pointer green-text deposit-text" (click)="openDialog(depositModel)">
              {{"pages.exchange.depositNow" | translate}}
          </a>
        </span>
        <div class="text-center">
          <button type="submit" class="font-bebasNeueBold btn btn-run btn-demo btn-danger pointer" size="large" [disabled]="formSubmittingSell">
            <span *ngIf="!formSubmittingSell">{{"pages.exchange.placeSellOrder" | translate}}</span>
            <i class="fa fa-spinner fa-spin text-white" *ngIf="formSubmittingSell"></i>
          </button>
        </div>
      </form>
    </div>
    </div>
  </nb-card-body>

</nb-card>

<ng-template #WithdrawModel let-data let-ref="dialogRef">
  <nb-card  class="changePassword">
    <nb-card-header>{{"pages.exchange.withdraw" | translate}}
      <i class="nb-close nb-icon-left fa-2x" (click)="cancelDialog(ref)"></i>
    </nb-card-header>
    <nb-card-body class="image-scoll-card-body">
      <div class="form-group select-btn"
        [ngClass]="{ 'ghost-dropdown': currentTheme === 'corporate' }"  ngbDropdown
        placement="bottom">
        <button type="button" 
          ngbDropdownToggle 
          class="btn btn-primary dropdownbtn"
          [ngClass]="{'btn-outline-success': currentTheme === 'default',
                        'btn-primary': currentTheme !== 'default',
                        'btn-sm': breakpoint.width <= breakpoints.is}">
          {{ selectedCrypto }}
        </button>
        <ul class="dropdown-menu" ngbDropdownMenu>
          <li class="dropdown-item" class="dropdown-item {{selectedCrypto === cryto.name ? 'active' : ''}}" *ngFor="let cryto of availableWallets" (click)="changeCrypto(cryto)">
            {{cryto.name}}
          </li>
        </ul>
      </div>
      <div class="form-group">
        <input type="number" [(ngModel)]="withdrawAmount" placeholder="{{'pages.heaven.enterAmount' | translate}}" nbInput/>
      </div>
    </nb-card-body>
    <nb-card-footer>
      <button nbButton class="submit-btn" size="small" (click)="submitWithdrawDialog(ref)"
        [disabled]="submitWithdrawDisable">
        {{"common.submit" | translate}}
      </button>
      <button nbButton class="cancel-btn" size="small" (click)="cancelDialog(ref)">{{"common.cancel" | translate}}</button>
    </nb-card-footer>
  </nb-card>
</ng-template>

<ng-template #depositModel let-data let-ref="dialogRef">
  <nb-card  class="changePassword">
    <nb-card-header>
        {{"pages.exchange.deposit" | translate}}
      <i class="nb-close nb-icon-left fa-2x" (click)="cancelDialog(ref)"></i>
    </nb-card-header>
    <nb-card-body class="image-scoll-card-body">
      <div class="form-group select-btn"
        [ngClass]="{ 'ghost-dropdown': currentTheme === 'corporate' }"  ngbDropdown
        placement="bottom">
        <button type="button" 
          ngbDropdownToggle 
          class="btn btn-primary dropdownbtn"
          [ngClass]="{'btn-outline-success': currentTheme === 'default',
                        'btn-primary': currentTheme !== 'default',
                        'btn-sm': breakpoint.width <= breakpoints.is}">
          {{ selectedCrypto }}
        </button>
        <ul class="dropdown-menu" ngbDropdownMenu>
          <li class="dropdown-item" class="dropdown-item {{selectedCrypto === cryto.name ? 'active' : ''}}" *ngFor="let cryto of availableWallets" 
            (click)="changeCrypto(cryto)">
            {{cryto.name}}
          </li>
        </ul>
      </div>
      <div class="form-group">
        <input type="number" [(ngModel)]="depositAmount" placeholder="{{'pages.heaven.enterAmount' | translate}}" nbInput/>
      </div>
    </nb-card-body>
    <nb-card-footer>
      <button nbButton class="submit-btn" size="small" (click)="submitDepositDialog(ref)"
        [disabled]="submitDepositDisable"><span>{{"common.submit" | translate}}</span></button>
      <button nbButton class="cancel-btn" size="small" (click)="cancelDialog(ref)">{{"common.cancel" | translate}}</button>
    </nb-card-footer>
  </nb-card>
</ng-template>