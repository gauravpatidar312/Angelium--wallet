<div class="row">
    <div class="col-12 col-lg-6">
      <nb-card class="top-content">
        <div class="icon-container">
          <div class="icon primary"><i class="fa fa-university"></i></div>
        </div>
        <div class="details full-width">
          <div class="row">
            <div class="col-7 mt-2">
              <div class="title">{{"pages.heaven.totalHeaven" | translate}}</div>
            </div>
            <div class="col-5" *ngIf="fetchingTotalHeaven"><div class="status text-white mt-0"><i class="fa fa-spinner spinner-color fa-spin"></i></div></div>
            <div class="col-5" *ngIf="!fetchingTotalHeaven">
              <!--<div class="status-dd-week dropdown" [ngClass]="{ 'ghost-dropdown': currentTheme === 'corporate' }" ngbDropdown>
                <button type="button" ngbDropdownToggle class="btn"
                        [ngClass]="{'btn-outline-success': currentTheme === 'default',
                                     'btn-primary': currentTheme !== 'default',
                                     'btn-sm': breakpoint.width <= breakpoints.is}">
                  {{ typeOfPeriod }}
                </button>
                <ul class="dropdown-menu" ngbDropdownMenu>
                  <li class="dropdown-item" *ngFor="let period of types" (click)="changePeriod(period)">
                    {{ period }}
                  </li>
                </ul>
              </div>
              <div class="clearfix"></div>-->
              <div class="status text-white"><span class="text-success">$</span>{{totalHeaven?.heaven | number : '1.0-2' }}</div>
              <div class="delta" [class.up]="totalHeaven?.percentage >= 0" [class.down]="totalHeaven?.percentage < 0">
                {{totalHeaven?.percentage > 0 ? totalHeaven?.percentage : (-1 * totalHeaven?.percentage)}}%
              </div>
              <!--<nb-progress-bar class="progress-container" [value]="75"></nb-progress-bar>-->
            </div>
          </div>
        </div>
      </nb-card>
    </div>
    <div class="col-12 col-lg-6">
      <nb-card class="top-content">
        <div class="icon-container">
          <div class="icon primary"><i class="nb-bar-chart"></i></div>
        </div>
        <div class="details full-width">
          <div class="row">
            <div class="col-7 mt-2">
              <div class="title heaven-drop">{{"pages.heaven.heavenDropToday" | translate}}</div>
            </div>
            <div class="col-5 col-xs-4" *ngIf="fetchingHeavenDrop"><div class="status text-white mt-0"><i class="fa fa-spinner spinner-color fa-spin"></i></div></div>
            <div class="col-5 col-xs-4" *ngIf="!fetchingHeavenDrop">
              <!--<div class="status-dd-week dropdown" [ngClass]="{ 'ghost-dropdown': currentTheme === 'corporate' }" ngbDropdown>
                <button type="button" ngbDropdownToggle class="btn"
                        [ngClass]="{'btn-outline-success': currentTheme === 'default',
                                     'btn-primary': currentTheme !== 'default',
                                     'btn-sm': breakpoint.width <= breakpoints.is}">
                  {{ typeOfPeriod }}
                </button>
                <ul class="dropdown-menu" ngbDropdownMenu>
                  <li class="dropdown-item" *ngFor="let period of types" (click)="changePeriod(period)">
                    {{ period }}
                  </li>
                </ul>
              </div>
              <div class="clearfix"></div>-->
              <div class="status text-white text-margin">{{heavenDrop?.total_amount | number : '1.0-2' }} <span class="text-success">ANX</span></div>
              <div class="delta" [class.up]="heavenDrop?.percentage >= 0" [class.down]="heavenDrop?.percentage < 0">
                {{heavenDrop?.percentage > 0 ? heavenDrop?.percentage : (-1 * heavenDrop?.percentage)}}%
              </div>
              <!--<nb-progress-bar class="progress-container" [value]="75"></nb-progress-bar>-->
            </div>
          </div>
        </div>
      </nb-card>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <nb-card>
        <nb-card-header class="day-header-title title">{{"common.heaven" | translate}} 30</nb-card-header>
        <nb-card-body class="row font-bebasNeue">
          <div class="col-5">
            <div class="text-success text-right days-font">30</div>
            <div class="text-right days-text">{{"common.days"| translate}}</div></div>
          <div class="col-7 m-t">
            <div>
              <div class="text-success month-day">{{"common.month"| translate}}</div>
            <div class="month-day-value ls-half">4.50 %</div>
            </div>
            <div>
              <span class="text-success month-day">{{"common.day"| translate}}</span>
            <span class="month-day-value ls-one">0.15 %</span>
            </div>
          </div>
        </nb-card-body>
        <button class="table_bg font-size-button" [ngClass]="{'selectedHeaven':selectedHeavenPlan === '30'}"
                (click)="selectedHeavenPlan = '30'">{{"common.select" | translate}}
        </button>
      </nb-card>
    </div>
    <div class="col-md-4">
      <nb-card>
        <nb-card-header class="day-header-title title">{{"common.heaven" | translate}} 60</nb-card-header>
        <nb-card-body class="row font-bebasNeue">
          <div class="col-5">
            <div class="text-success text-right days-font">60</div>
            <div class="text-right days-text">{{"common.days"| translate}}</div></div>
          <div class="col-7 m-t">
            <div>
              <div class="text-success month-day">{{"common.month"| translate}}</div>
              <div class="month-day-value">6.00 %</div>
            </div>
            <div>
              <span class="text-success month-day">{{"common.day"| translate}}</span>
              <span class="month-day-value">0.20 %</span>
            </div>
          </div>
        </nb-card-body>
        <button class="table_bg font-size-button" [ngClass]="{'selectedHeaven':selectedHeavenPlan === '60'}"
                (click)="selectedHeavenPlan = '60'">{{"common.select" | translate}}
        </button>
      </nb-card>
    </div>
    <div class="col-md-4">
      <nb-card>
        <nb-card-header class="day-header-title title">{{"common.heaven" | translate}} 90</nb-card-header>
        <nb-card-body class="row font-bebasNeue">
          <div class="col-5">
            <div class="text-success text-right days-font">90</div>
            <div class="text-right days-text">{{"common.days"| translate}}</div></div>
          <div class="col-7 m-t">
            <div>
              <div class="text-success month-day">{{"common.month"| translate}}</div>
              <div class="month-day-value">9.00 %</div>
            </div>
            <div>
              <span class="text-success month-day">{{"common.day"| translate}}</span>
              <span class="month-day-value">0.30 %</span>
            </div>
          </div>
        </nb-card-body>
        <button class="table_bg font-size-button" [ngClass]="{'selectedHeaven':selectedHeavenPlan === '90'}"
                (click)="selectedHeavenPlan = '90'">{{"common.select" | translate}}
        </button>
      </nb-card>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 myWallets">
      <nb-card>
        <nb-card-body>
          <div class="row">
            <div class="col-md-6 col-lg-4">
              <div class="form-group font-avenir">
                <label style="color: #00ff00">
                  {{"common.from" | translate}}
                </label>
                <div class="status-dd-week dropdown" [ngClass]="{ 'ghost-dropdown': currentTheme === 'corporate' }"
                     ngbDropdown>
                <button type="button" ngbDropdownToggle class="font-avenir dropDown-padding btn b-color-wallet"
                          [ngClass]="{'btn-outline-success': currentTheme === 'default',
                                 'btn-primary': currentTheme !== 'default',
                                 'btn-sm': breakpoint.width <= breakpoints.is}">
                    {{ walletType }}
                  </button>
                  <ul class="dropdown-menu" ngbDropdownMenu>
                    <li class="dropdown-item" *ngFor="let wallet of myWallets"
                        (click)="changePeriod(wallet.wallet_type, 'createHeaven')">
                      {{ wallet.wallet_type }}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-lg-4">
              <div class="form-group total-amount font-avenir">
                <label style="color: #00ff00">
                  {{"common.amount" | translate}}
                </label>
                <input type="number" [required]="true" [(ngModel)]="heaven_amount" placeholder="{{'common.enter'|translate}} {{'common.amount'|translate}}"
                     step="0.000001" [disabled]="!wallet?.wallet_type"
                     class="form-control input-padding font-avenir" (keyup)="setAmount(wallet?.wallet_type)"/>
              <span class="transfer-amount"><i class="fa fa-spinner fa-spin" *ngIf="fetchingAmount"></i></span>
              <span class="transfer-amount" *ngIf="!fetchingAmount">${{ wallet?.walletDollar | number : '1.0-2' }}</span>
              <span class="available-amount" (click)="setMaxValue()" *ngIf="wallet?.wallet_type"
                    title="Click to use whole amount">
                {{maxAmount + ' ' + (wallet?.wallet_type) + ' / max' }}
              </span>
              </div>
            </div>
            <div class="col-md-12 col-lg-4">
              <div class="form-group">
                <label class="d-none d-md-block">&nbsp;</label>
                <button [disabled]="formSubmitting || fetchingAmount || !myWallets?.length || !wallet?.wallet_type"
                      (click)="onCreateHeaven()"
                      class="btn btn-block btn-success btn-rectangle btn-run font-bebasNeueBold">
                  <span *ngIf="!(formSubmitting || fetchingAmount)">
                    {{"common.run" | translate}}
                  </span>
                  <i class="fa fa-spinner fa-spin text-white" *ngIf="formSubmitting || fetchingAmount"></i>
                </button>
              </div>
            </div>
          </div>

        </nb-card-body>
      </nb-card>
    </div>
  </div>
  <div class="row" *ngIf="!isProduction">
    <div class="col-md-12 col-xl-12">
      <nb-card>
        <nb-card-body>
          <div class="chart-header">
            <div class="legends">
              <div class="legend">
                <div class="legend-item-color"
                     style="background: linear-gradient(90deg, rgb(63, 202, 185) 0%, rgb(66, 215, 127) 100%);">
                </div>
                <div class="legend-title">ANX</div>
              </div>
              <div class="legend">
                <div class="legend-item-color"
                     style="background: linear-gradient(90deg, rgb(156, 72, 255) 0%, rgb(108, 72, 232) 100%);">
                </div>
                <div class="legend-title">HEAVEN</div>
              </div>
            </div>
            <div class="dropdown" ngbDropdown>
              <button class="btn btn-primary" type="button" ngbDropdownToggle>
                {{'common.year'|translate}}
              </button>
              <ul class="dropdown-menu" ngbDropdownMenu>
                <li class="dropdown-item"> {{'common.week'|translate}}</li>
                <li class="dropdown-item"> {{'common.month'|translate}}</li>
                <li class="dropdown-item"> {{'common.year'|translate}}</li>
              </ul>
            </div>
          </div>
          <ngx-ecommerce-charts></ngx-ecommerce-charts>
        </nb-card-body>
      </nb-card>
    </div>
    <!--<div class="col-md-4 col-xl-3">
      <nb-card size="xsmall">
        <nb-card-header>
          ANX Price
        </nb-card-header>
        <nb-card-body>
          <div class="progress-info">
            <div class="value">572,900</div>
            <div class="progress-container ">
              <div class="progress-value " style="width: 70%;"></div>
            </div>
            <div class="description">
              <bdi>Better than last week (70%)</bdi>
            </div>
          </div>
        </nb-card-body>
      </nb-card>
      <ngx-solar [chartValue]="'42'"></ngx-solar>
    </div>-->
  </div>
  <div class="row">
    <div class="col-md-12">
      <nb-card>
        <nb-card-header class="row heavenhistory">
          <div class="col-md-6">
            <div class="navbar-header heavenHistory-tree">
              {{"common.heaven" | translate}} {{"pages.heaven.history" | translate}}
            </div>
          </div>
          <div class="col-md-6 heavenHistoryColumn">
            <ul id="heavenHistory-navigation" class="nav navbar-pill downLine">
              <li class="pointer li-margin">
                <a data-toggle="pill" (click)="getHeavenHistory('today')">Today</a>
              </li>
              <li class="active pointer li-margin">
                <a data-toggle="pill" (click)="getHeavenHistory('total')">Total</a>
              </li>
            </ul>
          </div>
        </nb-card-header>
        <nb-card-body id="heaven-history">
          <div [hidden]="!fetchHeavenHistory"><span class="heaven-history-spinner"><i class="fa fa-spinner fa-spin"></i></span></div>
          <div style="overflow: auto;">
            <ng2-smart-table [settings]="settings" [source]="source" *ngIf="!fetchHeavenHistory">
            </ng2-smart-table>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
  </div>
